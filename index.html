<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.cdnfonts.com/css/cubano" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <script src="script.js" async defer></script>

    <link rel="stylesheet" href="codemirror-5.65.16/lib/codemirror.css">
    <script src="codemirror-5.65.16/lib/codemirror.js"></script>

    <script src="codemirror-5.65.16/mode/css/css.js"></script>
    <script src="codemirror-5.65.16/mode/xml/xml.js"></script>
    <script src="codemirror-5.65.16/mode/htmlmixed/htmlmixed.js"></script>
    <script src="codemirror-5.65.16/mode/javascript/javascript.js"></script>

    <script src="codemirror-5.65.16/addon/edit/closetag.js"></script>
    <script src="codemirror-5.65.16/addon/edit/closebrackets.js"></script>

    <link rel="stylesheet" href="codemirror-5.65.16/theme/ayu-dark.css">
    <link rel="stylesheet" href="codemirror-5.65.16/theme/blackboard.css">

    <script src="codemirror-5.65.16/addon/hint/html-hint.js"></script>
    <script src="codemirror-5.65.16/addon/hint/javascript-hint.js"></script>
    <script src="codemirror-5.65.16/addon/hint/show-hint.js"></script>
    <link rel="stylesheet" href="codemirror-5.65.16/addon/hint/show-hint.css">
    <script src="codemirror-5.65.16/addon/hint/xml-hint.js"></script>
    <script src="codemirror-5.65.16/addon/hint/anyword-hint.js"></script>

</head>

<body>
    <div class="container">
        <div class="topNav">
            <div class="nav">
                <h2>CODE <span class="spanLogo">HUB</span></h2>
                <div class="navRightChild" id="navRightChild">
                    <h5><i class="fa-solid fa-house"></i> Home</h5>
                    <h5><i class="fa-solid fa-user-large"></i> About us</h5>
                    <h5><i class="fa-solid fa-address-card"></i> Contact us</h5>
                </div>
            </div>
            <i class="fa-solid fa-bars-staggered" id="bar"></i>
        </div>
        <div class="content" id="content">
            <div class="codeBoxes">
                <div class="codeBox">
                    <div class="codeBoxNav">
                        <div class="codeBoxNavLeft">
                            <i class="fa-brands fa-html5 logo"></i>
                            <h4>HTML</h4>
                        </div>
                        <div class="codeBoxNavRight">
                            <p id="copyTextHTML">COPIED!</p>
                            <i class="fa-solid fa-copy" id="copyCodeHTML"></i>
                            <div class="file">
                                <i class="fa-regular fa-folder-open" id="HTMLFile"></i>
                                <div class="fileDropDown" id="fileDropDown">
                                    <div class="imp" id="HTMLFileImport">
                                        <i class="fa-solid fa-file-arrow-down" id="imp"></i>
                                        <h6>Import File</h6>
                                    </div>
                                    <div class="exp" id="HTMLFileExport">
                                        <i class="fa-solid fa-file-arrow-up"></i>
                                        <h6>Export File</h6>
                                    </div>
                                </div>
                            </div>
                            <i class="fa-solid fa-sliders"></i>
                        </div>
                    </div>
                    <div class="CodeArea">
                        <textarea name="" class="HTMLCode" id="HTMLCode" cols="" rows=""
                            onkeyup="runCode();"></textarea>
                    </div>
                </div>
                <div class="codeBox">
                    <div class="codeBoxNav">
                        <div class="codeBoxNavLeft">
                            <i class="fa-brands fa-css3 logo"></i>
                            <h4>CSS</h4>
                        </div>
                        <div class="codeBoxNavRight">
                            <p id="copyTextCSS">COPIED!</p>
                            <i class="fa-solid fa-copy" id="copyCodeCSS"></i>
                            <i class="fa-regular fa-folder-open" id="CSSFile"></i>
                            <i class="fa-solid fa-sliders"></i>
                        </div>
                    </div>
                    <div class="CodeArea">
                        <textarea name="" id="CSSCode" cols="" rows="" onkeyup="runCode();"></textarea>
                    </div>
                </div>
                <div class="codeBox">
                    <div class="codeBoxNav">
                        <div class="codeBoxNavLeft">
                            <i class="fa-brands fa-js logo"></i>
                            <h4>Javascript</h4>
                        </div>
                        <div class="codeBoxNavRight">
                            <p id="copyTextJS">COPIED!</p>
                            <i class="fa-solid fa-copy" id="copyCodeJS"></i>
                            <i class="fa-regular fa-folder-open" id="JSFile"></i>
                            <i class="fa-solid fa-sliders"></i>
                            <button id="run">Run <i class="fa-solid fa-play"></i></button>
                        </div>
                    </div>
                    <div class="CodeArea">
                        <textarea name="" id="JSCode" cols="" rows="" onkeyup="runCode();"></textarea>
                    </div>
                </div>
            </div>
            <div class="outputArea">
                <div class="outputNav">
                    <i class="fa-solid fa-circle-play" style="margin-top: 3px;"></i>
                    <h4>Output</h4>
                </div>
                <iframe src="" id="output"></iframe>
            </div>
        </div>
        <footer>
            <div class="logo">
                <h3>CODE <span class="spanLogo">HUB</span></h3>
            </div>
            <div class="copyRight">&#169 All right reserved 2023 BOKSHIVERSE INC.</div>
            <div class="links">
                <a href="https://www.facebook.com/rajeshthapa69"><i class="fa-brands fa-facebook"
                        id="facebookLogo"></i></a>
                <a href="https://www.reddit.com/user/rajeshthapa69"><i class="fa-brands fa-reddit"
                        id="redditLogo"></i></a>
                <a href=""><i class="fa-brands fa-discord" id="discordLogo"></i></a>
                <a href="https://github.com/rajeshthapa69"><i class="fa-brands fa-github" id="githubLogo"></i></a>
            </div>
            <div class="footNav">
                <a href="">Home</a>
                <a href="">About us</a>
                <a href="">Contact us</a>
            </div>
        </footer>
    </div>
</body>
<script>
    var editor1 = CodeMirror.fromTextArea(document.getElementById("HTMLCode"), {
        mode: "xml",
        theme: "ayu-dark",
        lineNumbers: true,
        autoCloseBrackets: true,
        autoCloseTags: true,
        extraKeys: { "Ctrl-Space": "autocomplete" }
    });
    editor1.setSize("", "110");

    var editor2 = CodeMirror.fromTextArea(document.getElementById("CSSCode"), {
        mode: "css",
        theme: "ayu-dark",
        lineNumbers: true,
        autoCloseBrackets: true,
        autoCloseTags: true,
        extraKeys: { "Ctrl-Space": "autocomplete" }
    });
    editor2.setSize("", "110");

    var editor3 = CodeMirror.fromTextArea(document.getElementById("JSCode"), {
        mode: "javascript",
        theme: "ayu-dark",
        lineNumbers: true,
        autoCloseBrackets: true,
        autoCloseTags: true,
        extraKeys: { "Ctrl-Space": "autocomplete" }
    });
    editor3.setSize("", "110");

    //Compiler
    setInterval(() => {
        let HTMLCodeValue = editor1.getValue();
        let CSSCodeValue = editor2.getValue();
        let JSCodeValue = editor3.getValue();
        let output = document.getElementById("output");

        output.contentDocument.body.innerHTML =
            HTMLCodeValue + "<style>" + CSSCodeValue + "</style>";
        output.contentWindow.eval(JSCodeValue);
    }, 0.0000000000000001)

    //CopyCodeHTML
    document.getElementById("copyCodeHTML").onclick = function () {
        let copyTextHTML = document.getElementById("copyTextHTML");
        document.getElementById("HTMLCode").select();
        document.execCommand("copy");
        copyTextHTML.style.display = "block";
        setTimeout(function () {
            copyTextHTML.style.display = "none";
        }, 1000);
    };
    //CopyCodeCSS
    document.getElementById("copyCodeCSS").onclick = function () {
        let copyTextCSS = document.getElementById("copyTextCSS");
        document.getElementById("CSSCode").select();
        document.execCommand("copy");
        copyTextCSS.style.display = "block";
        setTimeout(function () {
            copyTextCSS.style.display = "none";
        }, 1000);
    };
    //CopyCodeJS
    document.getElementById("copyCodeJS").onclick = function () {
        let copyTextJS = document.getElementById("copyTextJS");
        document.getElementById("JSCode").select();
        document.execCommand("copy");
        copyTextJS.style.display = "block";
        setTimeout(function () {
            copyTextJS.style.display = "none";
        }, 1000);
    };

    //bar
    bar.onclick = function () {
        document.getElementById("content").classList.toggle("shrink");
        document.getElementById("navRightChild").classList.toggle("show");
    };
    //HTMLFile
    document.getElementById("HTMLFile").onclick = function () {
        HTMLFile.classList.toggle("color");
        document.getElementById("fileDropDown").classList.toggle("showFileDropDown");
        document.getElementById("HTMLFileImport").onclick = async function () {
            let [fileHandle] = await window.showOpenFilePicker();
            let fileData = await fileHandle.getFile();
            let text = await fileData.text();
            localStorage.setItem("HTMLCode", text);
            editor1.setValue(text);
        };
    };

    //CSSFile
    document.getElementById("CSSFile").onclick = async function () {
        let [fileHandle] = await window.showOpenFilePicker();
        let fileData = await fileHandle.getFile();
        let text = await fileData.text();
        CSSCode.innerHTML = text;
    };

    //JSFile
    document.getElementById("JSFile").onclick = async function () {
        let [fileHandle] = await window.showOpenFilePicker();
        let fileData = await fileHandle.getFile();
        let text = await fileData.text();
        JSCode.innerHTML = text;
    };

    //HTMLFileExportLocalStorage
    setInterval(()=>{
        localStorage.setItem("HTMLLocal",editor1.getValue())
    },0.00000001)

    //HTMLFileExport
    document.getElementById("HTMLFileExport").onclick = function () {
        let HTMLLocal = localStorage.getItem("HTMLLocal");
        let file = new Blob([HTMLLocal], { type: "text" });
        let a = document.createElement("a");
        a.href = URL.createObjectURL(file);
        a.download = "index.html";
        a.click();
    }
</script>

</html>
